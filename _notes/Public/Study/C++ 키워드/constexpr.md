---
---


---

`constexpr`는 **컴파일 타임에 계산되는 상수**를 정의하는 데 사용하는 C++ 키워드입니다. 이 키워드를 사용하면 런타임 계산을 줄여 성능을 최적화하고 코드 안정성을 높일 수 있습니다.

### 주요 용도

#### 1. 변수

`constexpr` 변수는 반드시 **컴파일 시점에 값이 결정**되어야 합니다.

C++

```
// OK: 컴파일러가 '10 * 5'를 미리 계산해 50을 할당합니다.
constexpr int value = 10 * 5;

// 에러: 이 값은 런타임에 결정되므로 사용할 수 없습니다.
int get_runtime_value();
// constexpr int error_value = get_runtime_value(); 
```

#### 2. 함수

`constexpr` 함수는 입력값이 컴파일 타임에 결정되면, 함수 호출 자체도 컴파일 타임에 계산됩니다. 입력이 런타임에 결정되면 일반 함수처럼 런타임에 실행됩니다.

C++

```
// `power` 함수는 컴파일 타임에 계산될 수 있습니다.
constexpr int power(int base, int exp) {
    int res = 1;
    for (int i = 0; i < exp; ++i) {
        res *= base;
    }
    return res;
}

// 컴파일 시점에 계산: 2의 10제곱 (1024)
constexpr int result = power(2, 10);

// 런타임에 계산: 'input'은 런타임에 결정됩니다.
int input = 5;
int dynamic_result = power(2, input); 
```

### 왜 사용하나요?

- **성능 최적화**: 런타임 계산 오버헤드를 줄여 프로그램 실행 속도를 높입니다.
    
- **코드 안정성**: 배열 크기나 템플릿 인자와 같이 상수만 허용되는 곳에 사용할 수 있습니다.
    
- **메모리 효율**: 컴파일 타임에 결정된 값은 실행 파일의 데이터 영역에 저장되어, 런타임 메모리(스택/힙)를 절약합니다.